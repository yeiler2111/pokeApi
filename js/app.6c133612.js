(function(){"use strict";var e={1789:function(e,a,o){var r=o(8839),t=o(3751),n=o(641),s=o.p+"img/logo.d82f63b4.png";const i={class:"container"},l=(0,n.Lk)("img",{class:"logo-img",src:s,alt:"Logo de Pokemon"},null,-1),c={class:"navbar navbar-expand-lg bg-body-tertiary mx-3"},d={class:"container-fluid"},m={class:"collapse navbar-collapse",id:"navbarSupportedContent"},u={class:"navbar-nav me-auto mb-2 mb-lg-0"},p=(0,n.Lk)("form",{class:"d-flex",role:"search"},[(0,n.Lk)("input",{class:"form-control me-2",type:"search",placeholder:"Buscar por nombre"}),(0,n.Lk)("button",{class:"btn btn-outline-success",type:"submit"}," Search ")],-1);function k(e,a){const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",i,[l,(0,n.Lk)("nav",c,[(0,n.Lk)("div",d,[(0,n.Lk)("div",m,[(0,n.Lk)("ul",u,[(0,n.bF)(o,{class:"btn btn-primary",to:"/dashboard"},{default:(0,n.k6)((()=>[(0,n.eW)("Home")])),_:1})]),p])])])])}var b=o(6262);const v={},f=(0,b.A)(v,[["render",k]]);var h=f,y=o(953),g=(o(4114),o(4335));const C="https://pokeapi.co",L={async getPokemons(e){try{return await(0,g.A)({method:"get",url:`${C}/api/v2/pokemon`,params:{limit:e}})}catch(a){throw console.error(a),a}},async GetIdOfPokemons(e){let a=[];return e.forEach((e=>{const o=e.url.split("/")[6];a.push({id:o,name:e.name})})),a},async getInformationPokemonForId(e){try{let a=e.map((e=>(0,g.A)({method:"get",url:`${C}/api/v2/pokemon/${e.id}`}).then((e=>({urlImg:e.data.sprites.other.dream_world.front_default,name:e.data.name,experiencia:e.data.base_experience,habilidades:e.data.abilities,id:e.data.id}))).catch((e=>(console.error("Error al obtener información del Pokémon",e),null))))),o=await Promise.all(a);return o=o.filter((e=>null!==e)),o}catch(a){return console.error("Error al procesar las tarjetas de Pokémon",a),[]}},deleteRegisterIndb(e,a){return e=e.filter((e=>e?.id!=a)),e},getPokemonForID(e,a){const o=e.filter((e=>e?.id==a));return o},updatePokemonForIdSercive(e,a){const o=e.findIndex((e=>e.id===a.id));return-1!==o&&(e[o]={...a,id:a.id}),e}},E=(0,r.nY)("pokemon",{state:()=>({pokemons:[],arrayCards:(0,y.Kh)([]),filterByName:y.Kh[""],currentPokemonId:"",pokemonEditTemp:(0,y.Kh)({id:"",name:"",experiencia:"",habilidades:[{ability:{name:""}},{ability:{name:""}}]})}),actions:{async fetchPokemons(e){const a=await L.getPokemons(e);this.pokemons=a.data.results;const o=await L.GetIdOfPokemons(this.pokemons);this.pokemons=o;const r=await L.getInformationPokemonForId(this.pokemons);this.arrayCards.values=r,localStorage.setItem("arrayCards",JSON.stringify(this.arrayCards.values))},async deleteRegisterIndb(e){const a=L.deleteRegisterIndb(this.arrayCards.values,e);this.arrayCards.values=a,localStorage.setItem("arrayCards",JSON.stringify(this.arrayCards.values))},async reiniciar(){this.pokemonEditTemp.values={id:"",name:"",experiencia:"",habilidades:[{ability:{name:""}},{ability:{name:""}}]}},setPokemonId(e){this.currentPokemonId=e},clearPokemonId(){this.currentPokemonId=null},async getPokemonForID(e){this.pokemonEditTemp=await L.getPokemonForID(this.arrayCards.values,e)},updatePokemonForId(){const e=L.updatePokemonForIdSercive(this.arrayCards.values,this.pokemonEditTemp);this.arrayCards.values=e,localStorage.setItem("arrayCards",JSON.stringify(this.arrayCards.values)),this.reiniciar()}},getters:{}}),I={class:"container m-3"};var P={__name:"App",setup(e){const a=E();return(0,n.sV)((()=>{localStorage.getItem("arrayCard")&&a.fetchPokemons(100)})),(e,a)=>{const o=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",I,[(0,n.bF)(h),(0,n.bF)(o)])}}};const x=P;var w=x,O=o(33);const S={class:"container mx-3"},_={key:0,class:"row"},F={class:"card h-100"},R=["src"],T={class:"card-body"},X={class:"card-title"},j={class:"card-text"},K=(0,n.Lk)("strong",null,"Experiencia:",-1),N=(0,n.Lk)("br",null,null,-1),J=(0,n.Lk)("strong",null,"Habilidades:",-1),V=["onClick"],A=["onClick"],D={key:1},B=(0,n.Lk)("p",null,"Cargando Pokémon...",-1),H=[B];var M={__name:"dashboardPokemon",setup(e){const a=E();(0,n.sV)((()=>{localStorage.getItem("arrayCards")?a.arrayCards.values=JSON.parse(localStorage.getItem("arrayCards")):(console.log("estoy consumiendo el api"),a.fetchPokemons())}));const o=e=>{he.push({name:"editar",params:{id:e}})};return(e,r)=>((0,n.uX)(),(0,n.CE)("div",S,[(0,y.R1)(a).arrayCards.values.length>0?((0,n.uX)(),(0,n.CE)("div",_,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,y.R1)(a).arrayCards.values,((e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"col-md-4 mb-4"},[(0,n.Lk)("div",F,[(0,n.Lk)("img",{class:"card-img-top img-thumbnail",src:e.urlImg,alt:"Imagen del Pokémon"},null,8,R),(0,n.Lk)("div",T,[(0,n.Lk)("h5",X,(0,O.v_)(e.name),1),(0,n.Lk)("p",j,[K,(0,n.eW)(" "+(0,O.v_)(e.experiencia),1),N,J,(0,n.eW)(" "+(0,O.v_)(e.habilidades.join(", ")),1)]),(0,n.Lk)("a",{onClick:a=>o(e.id),class:"btn btn-primary"},"Ver más",8,V),(0,n.Lk)("a",{onClick:o=>(0,y.R1)(a).deleteRegisterIndb(e.id),class:"btn btn-danger"},"Eliminar",8,A)])])])))),128))])):((0,n.uX)(),(0,n.CE)("div",D,H))]))}};const W=M;var $=W,G=o(5220);const U={key:0},q={key:1},Y={class:"mb-3 row"},z=(0,n.Lk)("label",{for:"staticEmail",class:"col-sm-2 col-form-label"},"ID",-1),Q={class:"col-sm-10"},Z=["value"],ee={class:"mb-3 row"},ae=(0,n.Lk)("label",{for:"name",class:"col-sm-2 col-form-label"},"Nombre",-1),oe={class:"col-sm-10"},re={class:"mb-3 row"},te=(0,n.Lk)("label",{for:"experiencia",class:"col-sm-2 col-form-label"},"Experiencia",-1),ne={class:"col-sm-10"},se={class:"mb-3 row"},ie=(0,n.Lk)("label",{class:"col-sm-2 col-form-label"},[(0,n.Lk)("h3",null,"Habilidades")],-1),le={class:"col-sm-10"},ce=["value"],de={key:2},me=(0,n.Lk)("p",null,"No se encontraron datos del Pokémon.",-1),ue=[me];var pe={__name:"EditComponent",setup(e){const a=E(),o=(0,G.lq)(),r=(0,G.rd)(),s=(0,y.KR)(!0);(0,n.KC)((async()=>{try{const e=o.params.id;await a.getPokemonForID(e),s.value=!1}catch(e){console.error("Error al obtener los datos del Pokémon:",e),s.value=!1}}));const i=()=>{a.updatePokemonForId(),r.push({name:"dashboard"})},l=()=>{r.push({name:"dashboard"})};return(e,o)=>s.value?((0,n.uX)(),(0,n.CE)("div",U,"Cargando...")):(0,y.R1)(a).pokemonEditTemp&&Object.keys((0,y.R1)(a).pokemonEditTemp).length>0?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("div",Y,[z,(0,n.Lk)("div",Q,[(0,n.Lk)("input",{type:"text",class:"form-control-plaintext text-black",id:"staticEmail",value:(0,y.R1)(a).pokemonEditTemp[0].id,disabled:""},null,8,Z)])]),(0,n.Lk)("div",ee,[ae,(0,n.Lk)("div",oe,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":o[0]||(o[0]=e=>(0,y.R1)(a).pokemonEditTemp[0].name=e)},null,512),[[t.Jo,(0,y.R1)(a).pokemonEditTemp[0].name]])])]),(0,n.Lk)("div",re,[te,(0,n.Lk)("div",ne,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"experiencia","onUpdate:modelValue":o[1]||(o[1]=e=>(0,y.R1)(a).pokemonEditTemp[0].experiencia=e)},null,512),[[t.Jo,(0,y.R1)(a).pokemonEditTemp[0].experiencia]])])]),(0,n.Lk)("div",se,[ie,(0,n.Lk)("div",le,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,y.R1)(a).pokemonEditTemp[0].habilidades,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a},[(0,n.Lk)("input",{type:"text",class:"form-control",value:e.ability.name,disabled:"",readonly:""},null,8,ce)])))),128))])]),(0,n.Lk)("div",{class:"row"},[(0,n.Lk)("div",{class:"col-6"},[(0,n.Lk)("button",{onClick:i,class:"btn btn-primary btn-block"}," Modificar ")]),(0,n.Lk)("div",{class:"col-6"},[(0,n.Lk)("a",{class:"btn btn-danger btn-block",onClick:l},"Volver")])])])):((0,n.uX)(),(0,n.CE)("div",de,ue))}};const ke=pe;var be=ke;const ve=[{path:"/",redirect:"dashboard"},{path:"/dashboard",name:"dashboard",component:$},{path:"/editar/:id",name:"editar",component:be}],fe=(0,G.aE)({history:(0,G.Bt)(),routes:ve});fe.beforeEach(((e,a,o)=>{const r=E(),{id:t}=e.params;t?r.setPokemonId(t):r.clearPokemonId(),o()}));var he=fe;const ye=(0,r.Ey)();(0,t.Ef)(w).use(he).use(ye).mount("#app")}},a={};function o(r){var t=a[r];if(void 0!==t)return t.exports;var n=a[r]={exports:{}};return e[r].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(a,r,t,n){if(!r){var s=1/0;for(d=0;d<e.length;d++){r=e[d][0],t=e[d][1],n=e[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(i=!1,n<s&&(s=n));if(i){e.splice(d--,1);var c=t();void 0!==c&&(a=c)}}return a}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,t,n]}}(),function(){o.d=function(e,a){for(var r in a)o.o(a,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/pokeApi/"}(),function(){var e={524:0};o.O.j=function(a){return 0===e[a]};var a=function(a,r){var t,n,s=r[0],i=r[1],l=r[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(t in i)o.o(i,t)&&(o.m[t]=i[t]);if(l)var d=l(o)}for(a&&a(r);c<s.length;c++)n=s[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},r=self["webpackChunkmy_test"]=self["webpackChunkmy_test"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(1789)}));r=o.O(r)})();
//# sourceMappingURL=app.6c133612.js.map